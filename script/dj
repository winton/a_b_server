#!/usr/bin/env ruby

require File.expand_path('../../lib/a_b/gems', __FILE__)

GemTemplate::Gems.require(:dj)

require 'with_pid'

tmp = File.expand_path('../../tmp', __FILE__)

puts with_pid(
  :action => ARGV[0], # start or stop
  :command => File.expand_path(File.dirname(__FILE__)) + "/runner 'Delayed::Worker.new.start'",
  :name => "dj",
  :pid => tmp + "/dj.pid",
  :tmp => tmp
)